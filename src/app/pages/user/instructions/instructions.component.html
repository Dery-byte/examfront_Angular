<div class="loading-container" *ngIf="isLoading; else contentTemplate">
  <mat-spinner diameter="50"></mat-spinner>
  <p class="loading-text">Loading quiz instructions...</p>
</div>

<ng-template #contentTemplate>
  <div class="container card">
    <div class="row">
      <div class="col-md-12">
        <mat-card class="quiz-instruction-card">
          <!-- Header Section -->
          <mat-card-header>
            <mat-card-title>
              Quiz Instructions <span *ngIf="quiz">|| {{quiz.title}}</span>
            </mat-card-title>
          </mat-card-header>

          <!-- Content Section -->
          <mat-card-content *ngIf="quiz">
            <h1>{{quiz.title}}</h1>
            <p>{{quiz.description}}</p>
            <mat-divider></mat-divider>
            <br>
            
            <!-- Important Notice Section -->
            <h2>Important Notice</h2>
            <ul class="instruction-list">
              <li>This quiz is timed for <b>{{getFormmatedTime()}}</b></li>
              <li *ngIf="timeO > 0">There are <b>{{quiz.numberOfQuestions}} objective questions</b></li>
              <li>Each question carries <b>{{quiz.maxMarks/quiz.numberOfQuestions}} mark(s)</b></li>
              <li *ngIf="numberOfQuestionsToAnswer > 0">
                Answer all MCQs and any <b>{{numberOfQuestionsToAnswer}}</b> theory question(s)
              </li>
            </ul>
            
            <mat-divider></mat-divider>
            <br>
            
            <!-- Attempting Quiz Section -->
            <h2>Attempting Quiz</h2>
            <ul class="instruction-list">
              <li>Click <b>Start Quiz</b> and enter the quiz password</li>
              <li>The timer starts immediately</li>
              <li>You can't resume if interrupted</li>
              <li>Submit when completed</li>
              <li>Use Next button to navigate</li>
              <li>Print your report as PDF after submitting</li>
            </ul>
          </mat-card-content>

          <!-- Actions Section -->
          <mat-card-actions class="text-center">
            <div class=" container text-center" >
              <button *ngIf="!isLegible" 
                      mat-raised-button 
                      color="primary" 
                      (click)="startQuiz()"
                      [disabled]="!quiz">
                Start Quiz
              </button>
              <!-- {{isLegible}} -->
              
              <button *ngIf="isLegible" 
                      mat-raised-button 
                      color="accent"
                      disabled>
                Quiz Completed
              </button>
            </div>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
  </div>
</ng-template>